

<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="dns-prefetch" href="https://c.mql5.com">
      <meta name="description" content="Trade Transaction Structure - Data Structures - Constants, Enumerations and Structures - MQL5 Reference - Reference on algorithmic/automated trading language for MetaTrader 5">
      <meta property="og:url" content="https://www.mql5.com/en/docs/constants/structures/mqltradetransaction">
      <meta property="og:title" content="Documentation on MQL5: Constants, Enumerations and Structures / Data Structures / Trade Transaction Structure">
      <meta property="og:image" content="https://c.mql5.com/i/og/mql5-logo-fb-2.png">
      <meta property="og:image:width" content="1200">
      <meta property="og:image:height" content="630">
      <meta property="og:type" content="article">
      <meta name="twitter:card" content="summary_large_image" />
      <meta name="twitter:site" content="@mql5com">
      <meta name="twitter:image" content="https://c.mql5.com/i/og/mql5-logo-fb-2.png">
  <meta name="theme-color" content="#4a76b8">
  <meta name="format-detection" content="telephone=no">
  <link rel="shortcut icon" href="https://c.mql5.com/i/favicon.ico">
  <meta name="msapplication-config" content="none" />
  <meta name="referrer" content="no-referrer-when-downgrade">
  <meta property="qc:admins" content="36367170677651456375" />
  <meta property="wb:webmaster" content="073d7690269bcd81" />
  <link href="https://c.mql5.com/styles/core.2d0bfba83438e38ccdb8fba999e3714f.css" type="text/css" rel="stylesheet" media="all">
  <link href="https://c.mql5.com/styles/all.6f047d4a4fae80d4d5056645744f9217.css" type="text/css" rel="stylesheet" media="all">
  <link href="https://c.mql5.com/styles/help.dc456a9bc124c80d98aa8b0ee6081bb9.css" type="text/css" rel="stylesheet" media="all">
      <link rel="canonical" href="https://www.mql5.com/en/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="en" href="https://www.mql5.com/en/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="ru" href="https://www.mql5.com/ru/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="zh" href="https://www.mql5.com/zh/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="es" href="https://www.mql5.com/es/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="pt" href="https://www.mql5.com/pt/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="ja" href="https://www.mql5.com/ja/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="de" href="https://www.mql5.com/de/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="ko" href="https://www.mql5.com/ko/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="fr" href="https://www.mql5.com/fr/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="it" href="https://www.mql5.com/it/docs/constants/structures/mqltradetransaction">
      <link rel="alternate" hreflang="tr" href="https://www.mql5.com/tr/docs/constants/structures/mqltradetransaction">
  <title>Trade Transaction Structure - Data Structures - Constants, Enumerations and Structures - MQL5 Reference - Reference on algorithmic/automated trading language for MetaTrader 5</title>


<script type="text/javascript">
  !function(){window.mqGlobal={};var t=!1,n=!1,e=[],o=[],i=[];function d(t){var n;for(n=0;n<t.length;n+=1)t[n]()}function c(){t||(t=!0,d(e),d(o),o=[],e=[])}function a(){c(),n||(n=!0,d(i),i=[])}if(mqGlobal.AddOnReady=function(n,i){t?n(document):i?e.push(n):o.push(n)},mqGlobal.AddOnLoad=function(t){n?t(document):i.push(t)},mqGlobal.AddOnActiveWindowChange=function(t){this._onvisibility||(this._onvisibility=[]),this._onvisibility[this._onvisibility.length]=t},document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",a,!1);else if(document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){switch(document.readyState){case"interactive":c();break;case"complete":a()}})),window.attachEvent("onload",a),document.documentElement.doScroll&&window==window.top)){!function n(){if(!t&&document.body)try{document.documentElement.doScroll("left"),c()}catch(t){setTimeout(n,0)}}()}}();
  mqGlobal.CookieDomain = ".mql5.com";
  mqGlobal.Language = 'en';
  mqGlobal.IsMobile = false;
  mqGlobal.ClearRteStorage = function (e) { if (window.GStorage || (window.GStorage = globalStorage()), window.GStorage.supported) try { var o = e; window.GStorage.getItem("rte_autosave_uid", function (e, t) { t == o && (window.GStorage.removeItem("rte_autosave_text"), window.GStorage.removeItem("rte_autosave_date"), window.GStorage.removeItem("rte_autosave_uid")) }) } catch (e) { } };
</script>
  

        <script type='text/javascript'>
        
        </script>

    <script src="https://c.mql5.com/js/all.061be13d7247865424d177395e40b83b.js" type="text/javascript" defer="defer"></script>


</head>

<body>

  <div class="cover" id="cover">

    <header>
      <div class="head">
      <a href="https://www.mql5.com" class="head__logo" title="MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal"></a>
        <ul id="mainmenu" class="menu dropdown" style="padding-right: 0;margin-right: 140px;">
          <li class="selected">
                    <a id="mainMenuSelected" href="#">
                      <span class="on">Documentation</span><span class="off">Sections</span>
                    </a>
            <nav>
              <ul id="mainmenuItems">
                
                    <li><a href="/en/forum" data-fz-event="MQL5+Menu+Forum"><span>Forum</span></a></li>
                    <li><a href="/en/market" data-fz-event="MQL5+Menu+Market"><span>Market</span></a></li>
                    <li><a href="/en/signals" data-fz-event="MQL5+Menu+Signals"><span>Signals</span></a></li>
                    <li><a href="/en/job" data-fz-event="MQL5+Menu+Job"><span>Freelance</span></a></li>
                    <li><a href="/en/quotes/overview" data-fz-event="MQL5+Menu+Overview"><span>Quotes</span></a></li>
                    <li><a href="https://trade.metatrader5.com/" target="_blank" data-fz-event="MQL5+Menu+Trading"><span>WebTerminal</span></a></li>
                    <li><a href="/en/economic-calendar" data-fz-event="MQL5+Menu+Economic+Calendar"><span>Calendar</span></a></li>
                    <li><a href="/en/vps" data-fz-event="MQL5+Menu+VPS"><span>VPS</span></a></li>
                    <li><a href="/en/articles" data-fz-event="MQL5+Menu+Articles"><span>Articles</span></a></li>
                    <li><a href="/en/code" data-fz-event="MQL5+Menu+CodeBase"><span>CodeBase</span></a></li>
                    <li class="selected"><a href="/en/docs" data-fz-event="MQL5+Menu+Docs"><span>Documentation</span></a></li>
                    <li class="main-menu__about-link"><a href="/en/about"><span>About</span></a></li>
              </ul>
            </nav>
          </li>
          <li><input class="blurHandler" id="mainMenuBlurHandler" type="checkbox"></li>
        </ul>
      <div class="head__toolbar" id="headerToolbar">
          <div class="container loginRegister"><nav><ul id="loginRegisterButtons"><li><a class="login" title="Please sign in. OpenID supported" href="https://www.mql5.com/en/auth_login" data-fz-event="MQL5+Menu+Siginin">Log in</a></li><li><a class="registration en" title="Please register" href="https://www.mql5.com/en/auth_register" data-fz-event="MQL5+Menu+Register" onclick="window.fpush('MQL5+Button+Click');">Create an account</a></li></ul></nav></div>
        <div class="container"><div class="toggle-button" id="sidebarToggleButton"><i></i><i></i><i></i></div></div>

        <div class="group-menu" id="groupMenu">

 
            <div class="container lang-menu-container">
              <div id="langMenuContainer" class="lang-menu">
                <input class="blurHandler" id="langmenuBlurHandler" type="checkbox">
                <nav>
                  <ul class="lang-menu__list" id="langmenu">
                    <li class="lang-menu__list-item lang-menu__list-item_selected"><a href="/en/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_en"></i><span>English</span></a></li>
<li class="lang-menu__list-item"><a href="/ru/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_ru"></i><span>Русский</span></a></li>
<li class="lang-menu__list-item"><a href="/zh/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_zh"></i><span>中文</span></a></li>
<li class="lang-menu__list-item"><a href="/es/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_es"></i><span>Español</span></a></li>
<li class="lang-menu__list-item"><a href="/pt/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_pt"></i><span>Português</span></a></li>
<li class="lang-menu__list-item"><a href="/ja/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_ja"></i><span>日本語</span></a></li>
<li class="lang-menu__list-item"><a href="/de/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_de"></i><span>Deutsch</span></a></li>
<li class="lang-menu__list-item"><a href="/ko/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_ko"></i><span>한국어</span></a></li>
<li class="lang-menu__list-item"><a href="/fr/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_fr"></i><span>Français</span></a></li>
<li class="lang-menu__list-item"><a href="/it/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_it"></i><span>Italiano</span></a></li>
<li class="lang-menu__list-item"><a href="/tr/docs/constants/structures/mqltradetransaction"><i class="icons-languages icons-languages_tr"></i><span>Türkçe</span></a></li>

                  </ul>
                </nav>
              </div>
            </div>
 

          <div class="container search-box-container">
            <div id="searchBoxContainer" class="search-box">

<form action='https://www.mql5.com/en/search' onsubmit='window.fpush("MQL5+Menu+Search"); document.location.assign(("https://www.mql5.com/en/search") + ($("keyword").value.length>0?("#!keyword="+encodeURIComponent($("keyword").value)):"")); if(document.location.href.indexOf("/en/search#")>=0)setTimeout(function(){document.location.reload(true);},10);return false;' id='main_search_form' class='header-search' method='post'>
<div class="header-search__box"><div class="header-search__input-wrapper"><input name="keyword" type="text" title="Enter search text" id="keyword" /></div></div><input type="submit" value="" class="header-search__hidden-submit" /><div class="header-search__submit" id="searchSubmit"></div></form>            </div>
          </div>
        </div>
      </div>
      <div class="sub-nav__container" style="right: 282px; display: none;" id="subNavContainer">
        <div class="sub-nav__toggle" id="subNavToggle">...</div>
        <ul id="subNavList"></ul>
        <input class="blurHandler" id="blurHandlerSubNav" type="checkbox">
      </div>
    </div>
    </header>

    <main>
      <aside>
<div id='bfogggabsofabcpxuzmgaibarmaxasdrj' class="rcd93snl9yk0rqeut ff"></div>      </aside>

      <article>
        <div class="body" id="bodyContent">
          <header>
            <div class="top-band">
              
  <div><a href="/en/docs" class="boldenPath" title="MQL5 Reference">MQL5 Reference</a><span class="arrow_right" style="margin: 0 6px;"></span><a href="/en/docs/constants" class="boldenPath" title="Constants, Enumerations and Structures">Constants, Enumerations and Structures</a><span class="arrow_right" style="margin: 0 6px;"></span><a href="/en/docs/constants/structures" class="boldenPath" title="Data Structures">Data Structures</a><span class="arrow_right" style="margin: 0 6px;"></span><span class="boldenPath">Trade Transaction Structure</span>&nbsp;</div>

            </div>
          </header>

          



<div style="overflow: hidden;">
    <div class="left-panel docsTree" style="width: 253px;">
      <ul class="docsMenu"><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqldatetime" title="Date Type Structure">Date Type Structure</a></li><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqlparam" title="Indicator Parameter Structure">Indicator Parameter Structure</a></li><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqlrates" title="History Data Structure">History Data Structure</a></li><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqlbookinfo" title="Order Book Structure">Order Book Structure</a></li><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqltraderequest" title="Trade Request Structure">Trade Request Structure</a></li><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqltradecheckresult" title="Request Check Result Structure">Request Check Result Structure</a></li><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqltraderesult" title="Trade Request Result Structure">Trade Request Result Structure</a></li><li class="docsMenuNode"><span class="boldenPath">Trade Transaction Structure</span></li><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqltick" title="Price Data Structure">Price Data Structure</a></li><li class="docsMenuNode"><a href="/en/docs/constants/structures/mqlcalendar" title="Economic Сalendar structures">Economic Сalendar structures</a></li></ul>
      
      
      
        <div class="directHelp">
        </div>
    </div>


<div class="docsContainer">
  <div id="help">
<H1>Structure of a Trade Transaction (MqlTradeTransaction)</H1>
<p class="p_Text"><span class="f_Text">When performing some definite actions on a trade account, its state changes. Such actions include:</span></p>
<ul style="list-style-type:disc">
<li class="p_li"><span class="f_li">Sending a trade request from any MQL5 application in the client terminal using <a href="/en/docs/trading/ordersend" class="topiclink">OrderSend</a> and <a href="/en/docs/trading/ordersendasync" class="topiclink">OrderSendAsync</a> functions and its further execution;</span></li>
<li class="p_li"><span class="f_li">Sending a trade request via the terminal graphical interface and its further execution;</span></li>
</ul>
<ul style="list-style-type:disc">
<li class="p_li"><span class="f_li">Pending orders and stop orders activation on the server;</span></li>
<li class="p_li"><span class="f_li">Performing operations on a trade server side.</span></li>
</ul>
<p class="p_Text"><span class="f_Text">The following trade transactions are performed as a result of these actions:</span></p>
<ul style="list-style-type:disc">
<li class="p_li"><span class="f_li">handling a trade request;</span></li>
<li class="p_li"><span class="f_li">changing open orders;</span></li>
<li class="p_li"><span class="f_li">changing orders history;</span></li>
<li class="p_li"><span class="f_li">changing deals history;</span></li>
<li class="p_li"><span class="f_li">changing positions.</span></li>
</ul>
<p class="p_Text"><span class="f_Text">For example, when sending a market buy order, it is handled, an appropriate buy order is created for the account, the order is then executed and removed from the list of the open ones, then it is added to the orders history, an appropriate deal is added to the history and a new position is created. All these actions are trade transactions.</span></p>
<p class="p_Text"><span class="f_Text">Special <a href="/en/docs/event_handlers/ontradetransaction" class="topiclink">OnTradeTransaction()</a> handler is provided in MQL5 to get trade transactions applied to an account. The first parameter of the handler gets MqlTradeTransaction structure describing <a href="/en/docs/constants/tradingconstants/enum_trade_transaction_type" class="topiclink">trade transactions</a>.</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table class="help" cellpadding="3" style="border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_CodeExample" style="color: #0000ff;">struct&nbsp;</span><span class="f_CodeExample" style="font-weight: bold;">MqlTradeTransaction</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">deal</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Deal&nbsp;ticket</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">order</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Order&nbsp;ticket</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">symbol</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Trade&nbsp;symbol&nbsp;name</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ENUM_TRADE_TRANSACTION_TYPE</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_Param">type</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Trade&nbsp;transaction&nbsp;type</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ENUM_ORDER_TYPE</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">order_type</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Order&nbsp;type</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ENUM_ORDER_STATE</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">order_state</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Order&nbsp;state</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ENUM_DEAL_TYPE</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">deal_type</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Deal&nbsp;type</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ENUM_ORDER_TYPE_TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">time_type</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Order&nbsp;type&nbsp;by&nbsp;action&nbsp;period</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">datetime</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">time_expiration</span><span class="f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Order&nbsp;expiration&nbsp;time</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">price</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Price&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">price_trigger</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Stop&nbsp;limit&nbsp;order&nbsp;activation&nbsp;price</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">price_sl</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Stop&nbsp;Loss&nbsp;level</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">price_tp</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Take&nbsp;Profit&nbsp;level</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">volume</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Volume&nbsp;in&nbsp;lots</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">position</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Position&nbsp;ticket</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">position_by</span><span class="f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;Ticket&nbsp;of&nbsp;an&nbsp;opposite&nbsp;position</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;};</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text" style="font-weight: bold;">Fields Description</span></p>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 8px 17px 7px 17px;"><table class="EnumTable" cellpadding="5" border="1">
<thead>
<tr class="EnumTable">
<th class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable" style="font-weight: bold;">Field</span></p>
</th>
<th class="EnumTable"><p class="p_fortable"><span class="f_fortable" style="font-weight: bold;">Description</span></p>
</th>
</tr>
</thead>
<tbody>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">deal</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Deal ticket.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">order</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Order ticket.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">symbol</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">The name of the trading symbol, for which transaction is performed.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">type</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Trade transaction type. The value can be one of <a href="/en/docs/constants/tradingconstants/enum_trade_transaction_type" class="topiclink">ENUM_TRADE_TRANSACTION_TYPE</a> enumeration values.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">order_type</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Trade order type. The value can be one of <a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type" class="topiclink">ENUM_ORDER_TYPE</a> enumeration values.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">order_state</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Trade order state. The value can be one of <a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_state" class="topiclink">ENUM_ORDER_STATE</a> enumeration values.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">deal_type</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Deal type. The value can be one of <a href="/en/docs/constants/tradingconstants/dealproperties#enum_deal_type" class="topiclink">ENUM_DEAL_TYPE</a> enumeration values.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">time_type</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Order type upon expiration. The value can be one of </span><span class="f_ParameterDesrciption"><a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type_time" class="topiclink">ENUM_ORDER_TYPE_TIME</a> values.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">time_expiration</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Pending order expiration term (for orders of </span><span class="f_ParameterDesrciption"><a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type_time" class="topiclink">ORDER_TIME_SPECIFIED</a> and <a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type_time" class="topiclink">ORDER_TIME_SPECIFIED_DAY</a></span><span class="f_fortable"> types).</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">price</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Price. Depending on a trade transaction type, it may be a price of an order, a deal or a position.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">price_trigger</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Stop limit order stop (activation) price (</span><span class="f_EnumID"><a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type" class="topiclink">ORDER_TYPE_BUY_STOP_LIMIT</a> and <a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type" class="topiclink">ORDER_TYPE_SELL_STOP_LIMIT</a>).</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">price_sl</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Stop Loss price. Depending on a trade transaction type, it may relate to an order, a deal or a position.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">price_tp</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Take Profit price. Depending on a trade transaction type, it may relate to an order, a deal or a position.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">volume</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">Volume in lots. Depending on a trade transaction type, it may indicate the current volume of an order, a deal or a position.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">position</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">The ticket of the position affected by the transaction.</span></p>
</td>
</tr>
<tr class="EnumTable">
<td class="EnumTable" style="width:110px;"><p class="p_fortable"><span class="f_fortable">position_by</span></p>
</td>
<td class="EnumTable"><p class="p_fortable"><span class="f_fortable">The ticket of the opposite position. Used when closing a position by an opposite one, i.e. by a position of the same symbol that was opened in the opposite direction.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="p_Text"><span class="f_Text">The essential parameter for received transaction analysis is its type specified in </span><span class="f_Text" style="font-weight: bold;">type</span><span class="f_Text"> field. For example, if a transaction is of <a href="/en/docs/constants/tradingconstants/enum_trade_transaction_type" class="topiclink">TRADE_TRANSACTION_REQUEST</a> type (a result of handling a trade request by the server has been received), the structure has only only one field that is filled completely - </span><span class="f_Text" style="font-weight: bold;">type</span><span class="f_Text">. Other fields are not analyzed. In this case, we may analyze two additional </span><span class="f_Text" style="font-weight: bold;">request</span><span class="f_Text"> and </span><span class="f_Text" style="font-weight: bold;">result</span><span class="f_Text"> parameters submitted to OnTradeTransaction() handler, as shown below.</span></p>
<p class="p_Text"><span class="f_Text">Having data on a trading operation type, you can decide on the analysis of the current state of orders, positions and deals on a trading account. Remember that one trade request sent to the server from the terminal can generate several new transactions. The priority of their arrival at the terminal is not guaranteed.</span></p>
<p class="p_Text"><span class="f_Text">MqlTradeTransaction structure is filled in different ways depending on a trade transaction type (<a href="/en/docs/constants/tradingconstants/enum_trade_transaction_type" class="topiclink">ENUM_TRADE_TRANSACTION_TYPE</a>):</span></p>
<p class="p_BoldTitles"><span class="f_BoldTitles">TRADE_TRANSACTION_ORDER_* and TRADE_TRANSACTION_HISTORY_*</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">The following fields in MqlTradeTransaction structure are filled for trade transactions related to open orders handling (TRADE_TRANSACTION_ORDER_ADD, TRADE_TRANSACTION_ORDER_UPDATE and TRADE_TRANSACTION_ORDER_DELETE) and orders history (TRADE_TRANSACTION_HISTORY_ADD, TRADE_TRANSACTION_HISTORY_UPDATE, TRADE_TRANSACTION_HISTORY_DELETE):</span></p>
<ul style="list-style-type:disc">
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">order - order ticket;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">symbol - order symbol name;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">type - trade transaction type;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">order_type - order type;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">orders_state - order current state;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">time_type - order expiration type;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">time_expiration - order expiration time </span><span class="f_fortable">(for orders having </span><span class="f_ParameterDesrciption"><a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type_time" class="topiclink">ORDER_TIME_SPECIFIED</a> and <a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type_time" class="topiclink">ORDER_TIME_SPECIFIED_DAY</a></span><span class="f_fortable"> expiration types)</span><span class="f_FunctionRemLI">;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price - order price specified by a client;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price_trigger - stop limit order stop price (only for </span><span class="f_EnumID"><a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type" class="topiclink">ORDER_TYPE_BUY_STOP_LIMIT</a> and <a href="/en/docs/constants/tradingconstants/orderproperties#enum_order_type" class="topiclink">ORDER_TYPE_SELL_STOP_LIMIT</a>)</span><span class="f_FunctionRemLI">;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price_sl - Stop Loss order price (filled, if specified in the order);</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price_tp - Take Profit order price (filled, if specified in the order);</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">volume - order current volume (unfilled). Initial order volume can be found in the orders history using <a href="/en/docs/trading/historyordergetticket" class="topiclink">HistoryOrders*</a> function.</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">position - the ticket of the position that was opened, modified or closed as a result of order execution. It is only filled for market orders, not filled for TRADE_TRANSACTION_ORDER_ADD.</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">position_by - the ticket of the opposite position. It is only filled for the close by orders (to close a position by an opposite one).</span></li>
</ul>
<p class="p_BoldTitles"><span class="f_BoldTitles">TRADE_TRANSACTION_DEAL_*</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">The following fields in MqlTradeTransaction structure are filled for trade transactions related to deals handling (TRADE_TRANSACTION_DEAL_ADD, TRADE_TRANSACTION_DEAL_UPDATE and TRADE_TRANSACTION_DEAL_DELETE):</span></p>
<ul style="list-style-type:disc">
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">deal - deal ticket;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">order - order ticket, based on which a deal has been performed;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">symbol - deal symbol name;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">type - trade transaction type;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">deal_type - deal type;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price - deal price;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price_sl - Stop Loss price (filled, if specified in the order, based on which a deal has been performed);</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price_tp - Take Profit price (filled, if specified in the order, based on which a deal has been performed);</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">volume - deal volume in lots.</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">position - the ticket of the position that was opened, modified or closed as a result of deal execution.</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">position_by - the ticket of the opposite position. It is only filled for the out by deals (closing a position by an opposite one).</span></li>
</ul>
<p class="p_BoldTitles"><span class="f_BoldTitles">TRADE_TRANSACTION_POSITION</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">The following fields in MqlTradeTransaction structure are filled for trade transactions related to changing the positions not connected with deals execution (TRADE_TRANSACTION_POSITION):</span></p>
<ul style="list-style-type:disc">
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">symbol - position symbol name;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">type - trade transaction type;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">deal_type - position type (<a href="/en/docs/constants/tradingconstants/dealproperties#enum_deal_type" class="topiclink">DEAL_TYPE_BUY</a> or <a href="/en/docs/constants/tradingconstants/dealproperties#enum_deal_type" class="topiclink">DEAL_TYPE_SELL</a></span><span class="f_EnumID">)</span><span class="f_FunctionRemLI">;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price - weighted average position open price;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price_sl - Stop Loss price;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">price_tp - Take Profit price;</span></li>
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">volume - position volume in lots, if it has been changed.</span></li>
</ul>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 8px 17px 4px 30px;"><table class="attentable" cellpadding="8" border="1">
<tr class="attentable">
<td class="attentable"><p class="p_fortable"><span class="f_fortable">Position change (adding, changing or closing), as a result of a deal execution, does not lead to the occurrence of TRADE_TRANSACTION_POSITION transaction.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_BoldTitles"><span class="f_BoldTitles">TRADE_TRANSACTION_REQUEST</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark">Only one field in MqlTradeTransaction structure is filled for trade transactions describing the fact that a trade request has been processed by a server and processing result has been received (TRADE_TRANSACTION_REQUEST):</span></p>
<ul style="list-style-type:disc">
<li class="p_FunctionRemLI"><span class="f_FunctionRemLI">type - trade transaction type;</span></li>
</ul>
<div style="text-align: justify; text-indent: 0; padding: 0 0 0 0; margin: 8px 17px 4px 30px;"><table class="attentable" cellpadding="8" border="1">
<tr class="attentable">
<td class="attentable"><p class="p_fortable"><span class="f_fortable">Only type field (trade transaction type) must be analyzed for such transactions. The second and third parameters of <a href="/en/docs/event_handlers/ontradetransaction" class="topiclink">OnTradeTransaction</a> function (request and result) must be analyzed for additional data.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text" style="font-weight: bold;">Example:</span></p>
<div style="text-align: left; text-indent: 0; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0 0 0 0; margin: 2px 17px 2px 17px;"><table class="help" cellpadding="3" style="border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; padding:3px; border:none"><p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_CodeExample" style="color: #0000ff;">input</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #c0504d;">MagicNumber</span><span class="f_CodeExample">=1234567;</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #808080;">//---&nbsp;enable&nbsp;CTrade&nbsp;trading&nbsp;class&nbsp;and&nbsp;declare&nbsp;the&nbsp;variable&nbsp;of&nbsp;this&nbsp;class</span>
<br><span class="f_CodeExample" style="color: #0000ff;">#include</span><span class="f_CodeExample">&nbsp;&lt;Trade\Trade.mqh&gt;</span>
<br><span class="f_CodeExample">CTrade&nbsp;trade;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;flags&nbsp;for&nbsp;installing&nbsp;and&nbsp;deleting&nbsp;the&nbsp;pending&nbsp;order</span>
<br><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;pending_done=false;</span>
<br><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;pending_deleted=false;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;pending&nbsp;order&nbsp;ticket&nbsp;will&nbsp;be&nbsp;stored&nbsp;here</span>
<br><span class="f_CodeExample" style="color: #0000ff;">ulong</span><span class="f_CodeExample">&nbsp;order_ticket;</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;Expert&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnInit</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;set&nbsp;MagicNumber&nbsp;to&nbsp;mark&nbsp;all&nbsp;our&nbsp;orders</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;trade.SetExpertMagicNumber(</span><span class="f_CodeExample" style="color: #c0504d;">MagicNumber</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;trade&nbsp;requests&nbsp;will&nbsp;be&nbsp;sent&nbsp;in&nbsp;asynchronous&nbsp;mode&nbsp;using&nbsp;OrderSendAsync()&nbsp;function</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;trade.SetAsyncMode(</span><span class="f_CodeExample" style="color: #0000ff;">true</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;initialize&nbsp;the&nbsp;variable&nbsp;by&nbsp;zero</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;order_ticket=0;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">INIT_SUCCEEDED</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;Expert&nbsp;tick&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">OnTick</span><span class="f_CodeExample">()</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #808080;">//---installing&nbsp;a&nbsp;pending&nbsp;order</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!pending_done)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;ask=</span><span class="f_CodeExample" style="color: #0000ff;">SymbolInfoDouble</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #ff00ff;">_Symbol</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #0000ff;">SYMBOL_ASK</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">&nbsp;buy_stop_price=</span><span class="f_CodeExample" style="color: #0000ff;">NormalizeDouble</span><span class="f_CodeExample">(ask+1000*</span><span class="f_CodeExample" style="color: #ff00ff;">_Point</span><span class="f_CodeExample">,(</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #0000ff;">SymbolInfoInteger</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #ff00ff;">_Symbol</span><span class="f_CodeExample">,</span><span class="f_CodeExample" style="color: #0000ff;">SYMBOL_DIGITS</span><span class="f_CodeExample">));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;res=trade.BuyStop(0.1,buy_stop_price,</span><span class="f_CodeExample" style="color: #ff00ff;">_Symbol</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;if&nbsp;BuyStop()&nbsp;function&nbsp;performed&nbsp;successfully&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(res)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pending_done=</span><span class="f_CodeExample" style="color: #0000ff;">true</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;get&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;request&nbsp;sending&nbsp;from&nbsp;ctrade</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff00ff;">MqlTradeResult</span><span class="f_CodeExample">&nbsp;trade_result;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trade.Result(trade_result);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;get&nbsp;request_id&nbsp;for&nbsp;the&nbsp;sent&nbsp;request</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;request_id=trade_result.request_id;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;Request&nbsp;has&nbsp;been&nbsp;sent&nbsp;to&nbsp;set&nbsp;a&nbsp;pending&nbsp;order.&nbsp;Request_ID=&quot;</span><span class="f_CodeExample">,request_id);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;storing&nbsp;the&nbsp;order&nbsp;ticket&nbsp;(will&nbsp;be&nbsp;zero&nbsp;if&nbsp;using&nbsp;the&nbsp;asynchronous&nbsp;mode&nbsp;of&nbsp;sending&nbsp;to&nbsp;CTrade)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order_ticket=trade_result.order;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;all&nbsp;is&nbsp;done,&nbsp;early&nbsp;exit&nbsp;from&nbsp;OnTick()&nbsp;handler</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;delete&nbsp;the&nbsp;pending&nbsp;order</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(!pending_deleted)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;additional&nbsp;check</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(pending_done&nbsp;&amp;&amp;&nbsp;(order_ticket!=0))</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;trying&nbsp;to&nbsp;delete&nbsp;the&nbsp;pending&nbsp;order</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">bool</span><span class="f_CodeExample">&nbsp;res=trade.OrderDelete(order_ticket);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;OrderDelete=&quot;</span><span class="f_CodeExample">,res);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;when&nbsp;delete&nbsp;request&nbsp;is&nbsp;sent&nbsp;successfully</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(res)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pending_deleted=</span><span class="f_CodeExample" style="color: #0000ff;">true</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;get&nbsp;the&nbsp;request&nbsp;execution&nbsp;result</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #ff00ff;">MqlTradeResult</span><span class="f_CodeExample">&nbsp;trade_result;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trade.Result(trade_result);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;take&nbsp;request&nbsp;ID&nbsp;from&nbsp;the&nbsp;result</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">uint</span><span class="f_CodeExample">&nbsp;request_id=trade_result.request_id;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;display&nbsp;in&nbsp;Journal</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;The&nbsp;request&nbsp;has&nbsp;been&nbsp;sent&nbsp;to&nbsp;delete&nbsp;a&nbsp;pending&nbsp;order&nbsp;#&quot;</span><span class="f_CodeExample">,order_ticket,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;.&nbsp;Request_ID=&quot;</span><span class="f_CodeExample">,request_id,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;fix&nbsp;the&nbsp;order&nbsp;ticket&nbsp;from&nbsp;the&nbsp;request&nbsp;result</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order_ticket=trade_result.order;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;TradeTransaction&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">void</span><span class="f_CodeExample">&nbsp;OnTradeTransaction(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff00ff;">MqlTradeTransaction</span><span class="f_CodeExample">&nbsp;&amp;trans,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff00ff;">MqlTradeRequest</span><span class="f_CodeExample">&nbsp;&amp;request,</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff00ff;">MqlTradeResult</span><span class="f_CodeExample">&nbsp;&amp;result)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;get&nbsp;transaction&nbsp;type&nbsp;as&nbsp;enumeration&nbsp;value&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">ENUM_TRADE_TRANSACTION_TYPE</span><span class="f_CodeExample">&nbsp;type=(</span><span class="f_CodeExample" style="color: #0000ff;">ENUM_TRADE_TRANSACTION_TYPE</span><span class="f_CodeExample">)trans.type;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;if&nbsp;the&nbsp;transaction&nbsp;is&nbsp;the&nbsp;request&nbsp;handling&nbsp;result,&nbsp;only&nbsp;its&nbsp;name&nbsp;is&nbsp;displayed</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(type==</span><span class="f_CodeExample" style="color: #0000ff;">TRADE_TRANSACTION_REQUEST</span><span class="f_CodeExample">)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(type));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;display&nbsp;the&nbsp;handled&nbsp;request&nbsp;string&nbsp;name</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;------------RequestDescription\r\n&quot;</span><span class="f_CodeExample">,RequestDescription(request));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;display&nbsp;request&nbsp;result&nbsp;description</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;------------ResultDescription\r\n&quot;</span><span class="f_CodeExample">,TradeResultDescription(result));</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;store&nbsp;the&nbsp;order&nbsp;ticket&nbsp;for&nbsp;its&nbsp;deletion&nbsp;at&nbsp;the&nbsp;next&nbsp;handling&nbsp;in&nbsp;OnTick()</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">if</span><span class="f_CodeExample">(result.order!=0)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//---&nbsp;delete&nbsp;this&nbsp;order&nbsp;by&nbsp;its&nbsp;ticket&nbsp;at&nbsp;the&nbsp;next&nbsp;OnTick()&nbsp;call</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order_ticket=result.order;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;&nbsp;Pending&nbsp;order&nbsp;ticket&nbsp;&quot;</span><span class="f_CodeExample">,order_ticket,</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">);</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">else</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #808080;">//&nbsp;display&nbsp;the&nbsp;full&nbsp;description&nbsp;for&nbsp;transactions&nbsp;of&nbsp;another&nbsp;type</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;display&nbsp;description&nbsp;of&nbsp;the&nbsp;received&nbsp;transaction&nbsp;in&nbsp;the&nbsp;Journal</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">Print</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;------------TransactionDescription\r\n&quot;</span><span class="f_CodeExample">,TransactionDescription(trans));</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style="color: #808080;">//---&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;Returns&nbsp;transaction&nbsp;textual&nbsp;description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;TransactionDescription(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff00ff;">MqlTradeTransaction</span><span class="f_CodeExample">&nbsp;&amp;trans)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;desc=</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(trans.type)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Symbol:&nbsp;&quot;</span><span class="f_CodeExample">+trans.</span><span class="f_CodeExample" style="color: #0000ff;">symbol</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Deal&nbsp;ticket:&nbsp;&quot;</span><span class="f_CodeExample">+(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">)trans.deal+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Deal&nbsp;type:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(trans.</span><span class="f_CodeExample" style="color: #0000ff;">deal_type</span><span class="f_CodeExample">)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;ticket:&nbsp;&quot;</span><span class="f_CodeExample">+(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">)trans.order+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;type:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(trans.</span><span class="f_CodeExample" style="color: #0000ff;">order_type</span><span class="f_CodeExample">)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;state:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(trans.</span><span class="f_CodeExample" style="color: #0000ff;">order_state</span><span class="f_CodeExample">)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;time&nbsp;type:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(trans.time_type)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;expiration:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">TimeToString</span><span class="f_CodeExample">(trans.time_expiration)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Price:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,trans.price)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Price&nbsp;trigger:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,trans.price_trigger)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Stop&nbsp;Loss:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,trans.price_sl)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Take&nbsp;Profit:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,trans.price_tp)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Volume:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,trans.volume)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Position:&nbsp;&quot;</span><span class="f_CodeExample">+(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">)trans.position+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Position&nbsp;by:&nbsp;&quot;</span><span class="f_CodeExample">+(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">)trans.position_by+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;return&nbsp;the&nbsp;obtained&nbsp;string</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;desc;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;Returns&nbsp;the&nbsp;trade&nbsp;request&nbsp;textual&nbsp;description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;RequestDescription(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff00ff;">MqlTradeRequest</span><span class="f_CodeExample">&nbsp;&amp;request)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #808080;">//---</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;desc=</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(request.action)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Symbol:&nbsp;&quot;</span><span class="f_CodeExample">+request.</span><span class="f_CodeExample" style="color: #0000ff;">symbol</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Magic&nbsp;Number:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%d&quot;</span><span class="f_CodeExample">,request.magic)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;ticket:&nbsp;&quot;</span><span class="f_CodeExample">+(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">)request.order+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;type:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(request.type)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;filling:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(request.type_filling)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;time&nbsp;type:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">EnumToString</span><span class="f_CodeExample">(request.type_time)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;expiration:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">TimeToString</span><span class="f_CodeExample">(request.expiration)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Price:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,request.price)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Deviation&nbsp;points:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,request.deviation)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Stop&nbsp;Loss:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,request.sl)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Take&nbsp;Profit:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,request.tp)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Stop&nbsp;Limit:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,request.stoplimit)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Volume:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,request.volume)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Comment:&nbsp;&quot;</span><span class="f_CodeExample">+request.</span><span class="f_CodeExample" style="color: #0000ff;">comment</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;return&nbsp;the&nbsp;obtained&nbsp;string</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;desc;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #808080;">//|&nbsp;Returns&nbsp;the&nbsp;textual&nbsp;description&nbsp;of&nbsp;the&nbsp;request&nbsp;handling&nbsp;result&nbsp;&nbsp;&nbsp;|</span>
<br><span class="f_CodeExample" style="color: #808080;">//+------------------------------------------------------------------+</span>
<br><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;TradeResultDescription(</span><span class="f_CodeExample" style="color: #0000ff;">const</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample" style="color: #ff00ff;">MqlTradeResult</span><span class="f_CodeExample">&nbsp;&amp;result)</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;{</span>
<br><span class="f_CodeExample" style="color: #808080;">//---</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">&nbsp;desc=</span><span class="f_CodeExample" style="color: #008080;">&quot;Retcode&nbsp;&quot;</span><span class="f_CodeExample">+(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">)result.retcode+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Request&nbsp;ID:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%d&quot;</span><span class="f_CodeExample">,result.request_id)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Order&nbsp;ticket:&nbsp;&quot;</span><span class="f_CodeExample">+(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">)result.order+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Deal&nbsp;ticket:&nbsp;&quot;</span><span class="f_CodeExample">+(</span><span class="f_CodeExample" style="color: #0000ff;">string</span><span class="f_CodeExample">)result.deal+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Volume:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,result.volume)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Price:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,result.price)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Ask:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,result.ask)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Bid:&nbsp;&quot;</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #0000ff;">StringFormat</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #008080;">&quot;%G&quot;</span><span class="f_CodeExample">,result.bid)+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;desc+=</span><span class="f_CodeExample" style="color: #008080;">&quot;Comment:&nbsp;&quot;</span><span class="f_CodeExample">+result.</span><span class="f_CodeExample" style="color: #0000ff;">comment</span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #008080;">&quot;\r\n&quot;</span><span class="f_CodeExample">;</span>
<br><span class="f_CodeExample" style="color: #808080;">//---&nbsp;return&nbsp;the&nbsp;obtained&nbsp;string</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">return</span><span class="f_CodeExample">&nbsp;desc;</span>
<br><span class="f_CodeExample">&nbsp;&nbsp;}</span></p>
</td>
</tr>
</table>
</div>
<p class="p_BoldTitles"><span class="f_BoldTitles">See also</span></p>
<p class="p_FunctionRemark"><span class="f_FunctionRemark"><a href="/en/docs/constants/tradingconstants/enum_trade_transaction_type" class="topiclink">Trade Transaction Types</a>, <a href="/en/docs/event_handlers/ontradetransaction" class="topiclink">OnTradeTransaction()</a></span></p>

</div>

    
  <div style="height: 1px; overflow: hidden; clear: both;"></div>
</div>


  <div class="docsNav">
        <div style="float: left;">
          <span class="arrow_left" style="margin-right: 4px;"></span><a href="/en/docs/constants/structures/mqltraderesult" title="Trade Request Result Structure">Trade Request Result Structure</a>
        </div>
        <div style="float: right; margin-right: 4px;">
          <a href="/en/docs/constants/structures/mqltick" title="Price Data Structure">Price Data Structure</a><span class="arrow_right" style="margin-left: 4px;"></span>
        </div>
  </div>

  <div class="docsNav docsNav__sub">
    

<div id='wdausxxqrpvhekbwjrjlhqjghyhesrqqau' class="rfz1ewcn4c2uhkx4z rfz1ewcn4c2uhkx4z_docs ff"></div>  </div>


</div>
<!-- Docs file updated: 2022.11.10 -->

        </div>
      </article>
    </main>

      <footer>


<div class="footer  desktop" id="footer">
  <ul class="links  links_desktop">
      <li id="navFooterCommunity">
        <b>MQL5.community</b>
        <nav>
          <ul>
            <li><a href="https://trade.metatrader5.com/" target="_blank" data-fz-event="MQL5+Footer+Trading">Online trading / WebTerminal</a></li>
            <li><a href="/en/code" data-fz-event="MQL5+Footer+CodeBase">Free technical indicators and robots</a></li>
            <li><a href="/en/articles" data-fz-event="MQL5+Footer+Articles">Articles about programming and trading</a></li>
            <li><a href="/en/job" data-fz-event="MQL5+Footer+Job">Order trading robots on the Freelance</a></li>
            <li><a href="/en/market" data-fz-event="MQL5+Footer+Market">Market of Expert Advisors and applications&#x9;</a></li>
            <li><a href="/en/signals" data-fz-event="MQL5+Footer+Signals">Follow forex signals</a></li>
            <li><a href="/en/vps" data-fz-event="MQL5+Footer+VPS">Low latency forex VPS</a></li>
            <li><a href="/en/forum" data-fz-event="MQL5+Footer+Forum">Traders forum</a></li>
            <li><a href="/en/blogs" data-fz-event="MQL5+Footer+Blogs">Trading blogs</a></li>
            <li><a href="/en/charts" data-fz-event="MQL5+Footer+Charts">Charts</a></li>
          </ul>
        </nav>
      </li>
      <li id="navFooterMt5">
        <b>MetaTrader 5</b>
        <nav>
          <ul>
            <li><a href="https://www.metatrader5.com" data-fz-event="MQL5+Footer+MetaTrader+5"><span class="nobr">MetaTrader 5</span> Trading Platform</a></li>
            <li><a href="https://www.metatrader5.com/en/releasenotes" data-fz-event="MQL5+Footer+MetaTrader+5"><span class="nobr">MetaTrader 5</span> latest updates</a></li>
            <li><a href="https://www.metatrader5.com/en/news" data-fz-event="MQL5+Footer+MetaTrader+5">News, implementations and technology</a></li>
            <li><a href="https://www.metatrader5.com/en/terminal/help" data-fz-event="MQL5+Footer+MetaTrader+5"><span class="nobr">MetaTrader 5</span> User Manual</a></li>
            <li><a href="/en/docs" data-fz-event="MQL5+Footer+Docs">MQL5 language of trading strategies</a></li>
            <li><a href="https://cloud.mql5.com" data-fz-event="MQL5+Footer+Cloud">MQL5 Cloud Network</a></li>
            <li><a href="https://www.finteza.com/?utm_source=www.mql5.com&utm_medium=cpc&utm_term=cross-link&utm_content=visit.finteza.com&utm_campaign=0791.finteza.cross-link" data-fz-event="MQL5+Footer+Finteza" target="_blank">End-to-End Analytics</a></li>
              <li><a href="https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/mt5setup.exe?utm_source=www.mql5.com&amp;utm_campaign=download" data-fz-event="MetaTrader+5+Desktop+Download">Download <span class="nobr">MetaTrader 5</span></a></li>
              <li><a href="https://www.metatrader5.com/en/terminal/help/start_advanced/installation" data-fz-event="MQL5+Footer+MetaTrader+5">Install Platform</a></li>
              <li><a href="https://www.metatrader5.com/en/terminal/help/start_advanced/deinstallation" data-fz-event="MQL5+Footer+MetaTrader+5">Uninstall Platform</a></li>
          </ul>
        </nav>

      </li>
    <li id="navFooterWebsite">
        <b >Website</b>
        <nav>
          <ul>
            <li><a href="/en/about" data-fz-event="MQL5+Footer+About">About</a></li>
              <li><a href="/en/wall" data-fz-event="MQL5+Footer+Wall">Timeline</a></li>
            <li><a href="/en/about/terms" data-fz-event="MQL5+Footer+About">Terms and Conditions</a></li>
            <li><a href="/en/about/autopayments" data-fz-event="MQL5+Footer+About">Recurring Payment Agreement</a></li>
            <li><a href="/en/about/agencyagreement" data-fz-event="MQL5+Footer+About">Agency Agreement – Offer</a></li>
            <li><a href="/en/about/privacy" data-fz-event="MQL5+Footer+About">Privacy and Data Protection Policy</a></li>
            <li><a href="/en/about/cookies" data-fz-event="MQL5+Footer+About">Cookies Policy</a></li>
            <li>
                <a href="/en/contact" data-fz-event="MQL5+Footer+Contacts">Contacts and requests</a>
            </li>
          </ul>
        </nav>
    </li>

      <li id="navFooterDownload">
        <b>Join us — download <span class="nobr">MetaTrader 5!</span></b>
        <ul>
            <li class="icon windows"><a href="https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/mt5setup.exe?utm_source=www.mql5.com&amp;utm_campaign=download" data-fz-event="MetaTrader+5+Desktop+Download" title="Download MetaTrader 5 for Windows Free!">Windows</a></li>
            <li class="icon ios"><a href="https://download.mql5.com/cdn/mobile/mt5/ios?utm_source=www.mql5.com&amp;utm_campaign=install.metaquotes" data-fz-event="MetaTrader+5+iOS+Download" target="_blank" rel="nofollow noopener" title="Download MetaTrader 5 for iPhone Free!">iPhone/iPad</a></li>
            <li class="icon macos"><a href="https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/MetaTrader5.dmg?utm_source=www.mql5.com&amp;utm_campaign=download" data-fz-event="MetaTrader+5+Desktop+Download" title="Download MetaTrader 5 for Mac OS Free!">Mac OS</a></li>
            <li class="icon android"><a href="https://download.mql5.com/cdn/mobile/mt5/android?utm_source=www.mql5.com&amp;utm_campaign=install.metaquotes" data-fz-event="MetaTrader+5+Android+Download" target="_blank" rel="nofollow noopener" title="Download MetaTrader 5 Android from Google Play Free!"><span>Android</span></a></li>
            <li class="icon huawei"><a href="https://download.mql5.com/cdn/mobile/mt5/android/app-gallery?utm_source=www.mql5.com&amp;utm_campaign=install.metaquotes" data-fz-event="MetaTrader+5+Android+Download" target="_blank" rel="nofollow noopener" title="MetaTrader 5 Android (Huawei AppGallery)"><span>Huawei</span></a></li>
            <li class="icon linux"><a href="/en/articles/625" data-fz-event="MetaTrader+5+Desktop+Download" target="_blank" title="MetaTrader 5 on Linux"><span>Linux</span></a></li>
          <li class="icon tradays"><a href="https://www.tradays.com/en/download?utm_source=www.mql5.com&amp;utm_campaign=download" data-fz-event="MQL5+Footer+Download+Tradays" target="_blank" title="Tradays Economic Calendar"><span>Tradays Economic Calendar</span></a></li>
        </ul>

        <div class="footer__other">
          <div class="footer__not-a-broker">Not a broker, no real trading accounts</div>
          <div class="copyright">13 Anastasi Sioukri, 3105, Limassol, Cyprus</div>
          <div class="copyright">Copyright 2000-2022, <span class="nobr">MetaQuotes Ltd</span></div>
        </div>
      </li>
  </ul>
</div>


      </footer>

    <div class="shadow-layer" id="layer"></div>
        
  </div>
  

  <script type='text/javascript'>
  (function(a,e,f,g,b,c,d){a[b]||(a.FintezaCoreObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=!0,c.defer=!0,c.src=g,d&&d.parentNode&&d.parentNode.insertBefore(c,d))})
    (window,document,"script","/tz/core.js","fz");
  window.fz("register", "website", {
    id: "sqjxkxkswybhifrohpyooonwgbvsfzmayq",
    trackLinks: true
  });
  </script>

  <script type="text/javascript">
mqGlobal.AddOnLoad(function () {
        new TrackScrollPosition('Docs');
      });window.fz("show","wdausxxqrpvhekbwjrjlhqjghyhesrqqau");mqGlobal.AddOnLoad(function(){window.keywordMainFormSuggests = new Suggestions("keyword","https://search.mql5.com/api/suggest","en",function(){$('main_search_form').onsubmit();});});window.fz("show","bfogggabsofabcpxuzmgaibarmaxasdrj");mqGlobal.AddOnReady(function ()
      {
        window.floatVerticalPanelNode = FloatVerticalPanel('This website uses cookies. Learn more about our <a href="/en/about/cookies">Cookies Policy</a>.','cookie_accept');
      });       mqGlobal.AddOnLoad(function () { Mql5Cookie.init('mql5.com','5054508017456580159'); });
      if (typeof Attach !== "undefined")
        Attach.setAcceptFilter(".zip, .txt, .log, .mqh, .ex5, .mq5, .mq4, .mqproj, .ex4, .mt5, .set, .tpl, .cl, .py, .sqlite, .csv, .ipynb, .gif, .png, .jpg, .jpeg");
  </script>

    <div class="b-fixed-mt" id="bFixedMt" style="display: none;">
      <div id='jjyeyqenuvuvgqlpjjrqigjthhcgagwglu' class="bfb ff"><script type='text/javascript'>window.fz("show","jjyeyqenuvuvgqlpjjrqigjthhcgagwglu");</script></div>
    </div>


  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://www.mql5.com",
      "logo": "https://c.mql5.com/i/community/logo_mql5-2.png",
      "sameAs": [
        "https://www.facebook.com/mql5.community",
        "https://www.twitter.com/mql5com",
        "https://www.youtube.com/user/MetaQuotesOfficial"
       ]
    }
  </script>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "MQL5 Community",
  "url": "https://www.mql5.com",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://www.mql5.com/en/search?keyword={keyword}",
    "query-input": "required name=keyword"
  }
}
  </script>
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"ItemList","itemListElement":[{"@type":"SiteNavigationElement","position":1,"name":"Forum","description":"Discussions of trading strategies and algorithmic trading. MQL5.community  the largest forex forum","url":"https://www.mql5.com/en/forum"},{"@type":"SiteNavigationElement","position":2,"name":"Market","description":"MetaTrader Market - a Market of trading robots, indicators, trading books and magazines","url":"https://www.mql5.com/en/market"},{"@type":"SiteNavigationElement","position":3,"name":"Signals","description":"Social trading, copy trading and account monitoring with MetaTrader - Trading Signals on MQL5.com","url":"https://www.mql5.com/en/signals"},{"@type":"SiteNavigationElement","position":4,"name":"Freelance","description":"Order trading robots, technical indicators and algorithmic trading applications. Forex jobs. Freelance on MQL5.com","url":"https://www.mql5.com/en/job"},{"@type":"SiteNavigationElement","position":5,"name":"Quotes","description":"","url":"https://www.mql5.com/en/quotes/overview"},{"@type":"SiteNavigationElement","position":6,"name":"WebTerminal","description":"WebTerminal for the MetaTrader trading platform. Online forex trading.","url":"https://trade.metatrader5.com/"},{"@type":"SiteNavigationElement","position":7,"name":"Calendar","description":"","url":"https://www.mql5.com/en/economic-calendar"},{"@type":"SiteNavigationElement","position":8,"name":"VPS","description":"","url":"https://www.mql5.com/en/vps"},{"@type":"SiteNavigationElement","position":9,"name":"Articles","description":"","url":"https://www.mql5.com/en/articles"},{"@type":"SiteNavigationElement","position":10,"name":"CodeBase","description":"Download trading robots, technical indicators and scripts with source code - MQL5 Code Base for MetaTrader 5","url":"https://www.mql5.com/en/code"},{"@type":"SiteNavigationElement","position":11,"name":"Documentation","description":"MetaQuotes Language 5 (MQL5) Reference - Documentation on MQL5.com","url":"https://www.mql5.com/en/docs"}]}
</script>
</body>
</html>
